```matlab
plik = 'LinioweSarenki_56.set';
pth = 'C:\\Users\\mmagnus1\\Desktop\\data\\';

% wczytujemy dane
EEG = pop_loadset('filename', plik,...
    'filepath', pth);

% filtrujemy
EEG = pop_eegfiltnew(EEG, [], 1, 826, true, [], 0);

% epokujemy
EEG = pop_epoch( EEG, ...
    {'Konc_easy_premise_1step',...
    'Konc_easy_premise_2step',...
    'Konc_easy_premise_adjacent',...
    'Konc_easy_question_1step',...
    'Konc_easy_question_2step',...
    'Konc_easy_question_adjacent',...
    'Konc_hard_premise_1step',...
    'Konc_hard_premise_2step',...
    'Konc_hard_premise_adjacent',...
    'Konc_hard_question_1step',...
    'Konc_hard_question_2step',...
    'Konc_hard_question_adjacent'},...
    [-0.5, 1]);

% baseline correction
EEG = pop_rmbase( EEG, [-500    0]);

% automat do usuwania kanałów
[~, chan] = pop_rejchan(EEG, 'elec',...
    1:65, 'threshold', 5, 'norm',...
    'on', 'measure', 'prob');
% interpolujemy kanały wykryte jako złe
if ~isempty(chan)
    EEG = pop_interp(EEG, chan, 'spherical');
end

% automatyczne usuwanie epok
[~, remep] = pop_autorej(EEG, 'nogui', 'on',...
    'eegplot', 'off');
if ~isempty(remep)
    EEG = pop_rejepoch( EEG, remep, 0);
end

% puszczamy ica
EEG = pop_runica(EEG, 'extended',1,'interupt','on');

% zapisujemy przetworzony plik
pop_saveset()
```
